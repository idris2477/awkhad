// Copyright 2019 Dinar Gabbasov Krotov <https://it-projects.info/team/GabbasovDinar>
// License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html).

awkhad.define('awkhad_backup_sh_dropbox.dashboard', function (require) {

    'use strict';

    var Dashboard = require('awkhad_backup_sh.dashboard');
    var ajax = require('web.ajax');
    var ControlPanelMixin = require('web.ControlPanelMixin');
    var core = require('web.core');
    var Widget = require('web.Widget');
    var QWeb = core.qweb;

    Dashboard.include({
        click_group_buttons: function(e) {
            var $el = $(e.target);
            var service = $el.data('service');
            if ($el.data('service') === 'dropbox') {
                this.set_active_button($el);
                this.set_service(service);
                this.render_remote_storage_usage_graph(this.services_storage_usage_graph_values[service]);
            } else {
                this._super(e);
            }
        },
        renderElement: function() {
            this._super();
            this.$('.kanban_group_buttons').removeClass('o_hidden');
        },
        render_backup_config_cards: function() {
            this._super();
            this.$('.backup_storage_service_title').removeClass('o_hidden');
        },
    });

    return Dashboard;
});
