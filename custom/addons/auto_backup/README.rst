====================
Database Auto-Backup
====================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://awkhad-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-ACA%2Fserver--tools-lightgray.png?logo=github
    :target: https://github.com/ACA/server-tools/tree/12.0/auto_backup
    :alt: ACA/server-tools
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.awkhad-community.org/projects/server-tools-12-0/server-tools-12-0-auto_backup
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
    :target: https://runbot.awkhad-community.org/runbot/149/12.0
    :alt: Try me on Runbot

|badge1| |badge2| |badge3| |badge4| |badge5| 

A tool for all your back-ups, internal and external!

**Table of contents**

.. contents::
   :local:

Installation
============

Before installing this module, you need to execute::

    pip3 install pysftp==0.2.8


Configuration
=============

Go to *Settings -> Database Structure -> Automated Backup* to
create your configurations for each database that you needed
to backups.

Usage
=====

Keep your Awkhad data safe with this module. Take automated back-ups,
remove them automatically and even write them to an external server
through an encrypted tunnel. You can even specify how long local backups
and external backups should be kept, automatically!

Connect with an FTP Server
~~~~~~~~~~~~~~~~~~~~~~~~~~

Keep your data safe, through an SSH tunnel!
-------------------------------------------

Want to go even further and write your backups to an external server?
You can with this module! Specify the credentials to the server, specify
a path and everything will be backed up automatically. This is done
through an SSH (encrypted) tunnel, thanks to pysftp, so your data is
safe!

Test connection
~~~~~~~~~~~~~~~

Checks your credentials in one click
------------------------------------

Want to make sure if the connection details are correct and if Awkhad can
automatically write them to the remote server? Simply click on the ‘Test
SFTP Connection’ button and you will get message telling you if
everything is OK, or what is wrong!

E-mail on backup failure
~~~~~~~~~~~~~~~~~~~~~~~~

Stay informed of problems, automatically!
-----------------------------------------

Do you want to know if the database backup succeeded or failed? Subscribe to
the corresponding backup setting notification type.

Run backups when you want
~~~~~~~~~~~~~~~~~~~~~~~~~

From the backups configuration list, press *More > Execute backup(s)* to
manually execute the selected processes.

.. image:: https://awkhad-community.org/website/image/ir.attachment/5784_f2813bd/datas
   :alt: Try me on Runbot
   :target: https://runbot.awkhad-community.org/runbot/149/11.0

Known issues / Roadmap
======================

* On larger databases, it is possible that backups will die due to Awkhad server
  settings. In order to circumvent this without frivolously changing settings,
  you need to run the backup from outside of the main Awkhad instance. How to do
  this is outlined in `this blog post
  <https://blog.laslabs.com/2016/10/running-python-scripts-within-awkhads-environment/>`_.
* Backups won't work if list_db=False is configured in the instance.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/ACA/server-tools/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/ACA/server-tools/issues/new?body=module:%20auto_backup%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Yenthe Van Ginneken
* Agile Business Group
* Grupo ESOC Ingenieria de Servicios
* LasLabs
* AdaptiveCity

Contributors
~~~~~~~~~~~~

* Yenthe Van Ginneken <yenthe.vanginneken@vanroey.be>
* Alessio Gerace <alessio.gerace@agilebg.com>
* Jairo Llopis <yajo.sk8@gmail.com>
* Dave Lasley <dave@laslabs.com>
* Andrea Stirpe <a.stirpe@onestein.nl>
* Aitor Bouzas <aitor.bouzas@adaptivecity.com>

Maintainers
~~~~~~~~~~~

This module is maintained by the ACA.

.. image:: https://awkhad-community.org/logo.png
   :alt: Awkhad Community Association
   :target: https://awkhad-community.org

ACA, or the Awkhad Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Awkhad features and
promote its widespread use.

This module is part of the `ACA/server-tools <https://github.com/ACA/server-tools/tree/12.0/auto_backup>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://awkhad-community.org/page/Contribute.
